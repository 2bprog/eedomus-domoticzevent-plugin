{
	"plugin_id": "bbdomzevents",
	"name_fr": "Domoticz - events",
	"icon": "domzevents.png",
	"version": "0.0.1",
	"creation_date": "2020-01-16",
	"modification_date": "2020-01-22",
	"author": "Benjamin B.<br><a target='_blank' href='https://github.com/2bprog/eedomus-domoticzevent-plugin'>Sources sur github <img src='/img/external.png'></a>",
	"description_fr": "Génération d' script dans Domoticz pour pousser les changements de valeur vers l'eedomus",
	"description_en": "",
	"description_es": "",
	"description_it": "",
	"description_de": "",
	"forum_link": "",
	"parameters": [	
		{
			"parameter": "EED",
			"description": "<b>eedomus :</b>",
            "xtype": "displayfield",
			"field": "style: 'padding: 3px; ', value: ''"			
		},		
		{		
			"parameter": "EEDIP",
			"description": "IP ",
			"xtype": "textfield",
			"default_value2": "","default_value": "10.66.254.240",
			"field": "style: 'padding: 3px;', width:130, allowBlank:false, maskRe:/[0-9.:]/, regex:/^(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])\\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9]))$/, regexText:'Adresse IP invalide [0-255].[0-255].[0-255].[0-255]:[0-255]'"
		},
		{
			"parameter": "DOMZ",
			"description": "<b>Domoticz :</b>",
            "xtype": "displayfield",
			"field": "style: 'padding: 3px; ', value: ''"			
		},		
		{		
			"parameter": "DOMZIP",
			"description": "IP + Port du serveur",
			"xtype": "textfield",
			"default_value2": "","default_value": "10.66.254.101:8080",
			"field": "style: 'padding: 3px;', width:130, allowBlank:false, maskRe:/[0-9.:]/, regex:/^(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])\\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])\\:([0-9]{2}[0-9]?[0-9]?)$/, regexText:'Adresse IP invalide [0-255].[0-255].[0-255].[0-255]:[0-255]'"
		},
		{
			"parameter": "DOMZUSER",
			"description": "Utilisateur",
			"xtype": "textfield",
			"default_value": "",
			"field": "style: 'padding: 3px; ', width:130, allowBlank: false , maxLength:40, minLength:0"
		},
		{
			"parameter": "DOMZPWD",
			"description": "Mot de passe",
			"xtype": "password",
			"default_value": "",
			"field": "style: 'padding: 3px; margin-bottom: 10px;', width:130, allowBlank: false , maxLength:40, minLength:0"
		},
		{
			"parameter": "DOMZTMT",
			"description": "",
            "xtype": "displayfield",
			"field": "style: 'padding: 3px; ', value: '<a href=\\'javascript:eval(atob(\"window.open('http://'+document.getElementById('periph_param[`EEDIP`]').value+'/script/?exec=2B_domzevents.php&domipp='+document.getElementById('periph_param[`DOMZIP`]').value+','+document.getElementById('periph_param[`DOMZUSER`]').value+':'+document.getElementById('periph_param[`DOMZPWD`]').value+'&p2=HTML','domzevents','width=800,height=600,toolbar=no');\"));\\'>Afficher la configuration</a>'"			
		}	
	],
	"scripts": [
		{
			"name": "2B_domzevents.php"
		}
	],
	"devices":
	[
	{
			"device_id": "domzevts",
			"module_id": "54",
			"name_fr": "Domoticz events",
			"icon": "domzevents.png",
			"utilisation_id": "0",
			"parameters":
			{
				"SMARTPHONE_HEIGHT": "2",
				"VAR1": "plugin.parameters.EEDIP",
				"VAR2": "plugin.parameters.DOMZIP,plugin.parameters.DOMZUSER:plugin.parameters.DOMZPWD",
				"VAR3": "",
				"RAW_URL": "/script/?exec=2B_domzevents.php&eedip=[VAR1]&domipp=[VAR2]&action=WIDGET&p2=html"
			}
		}
	]
}